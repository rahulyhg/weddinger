{"version":3,"sources":["menu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"menu.js","sourcesContent":["$(function(){\n    MenuEngine.init();\n});\n\nvar MenuEngine = MenuEngine || {\n    init:function(){\n        this.initEventHandlers();\n    },\n    initEventHandlers:function(){\n        $(document).on('click','.editItemButton',function(){\n           MenuEngine.showEditFields(this);\n       });\n\n        $(document).on('click','.cancelEditButton',function(){\n            MenuEngine.cancelEdit(this);\n            MenuEngine.hideEditFields(this);\n        });\n\n        $(document).on('click','.saveItemButton',function(){\n            MenuEngine.saveChages(this);\n        });\n    },\n    showEditFields:function(eventButton){\n        $eventButton = $(eventButton);\n        $parentDiv = $eventButton.parents(\".item-controls\");\n        $viewDiv = $parentDiv.siblings('.view');\n        $editDiv = $parentDiv.siblings('.edit');\n\n        $viewControlsDiv = $eventButton.parent();\n        $editControlsDiv = $eventButton.parent().siblings('.editControls');\n\n        $editDiv.show();\n        $editControlsDiv.show();\n\n        $viewDiv.hide();\n        $viewControlsDiv.hide();\n    },\n    hideEditFields:function(eventButton){\n        $eventButton = $(eventButton);\n        $parentDiv = $eventButton.parents(\".item-controls\");\n        $viewDiv = $parentDiv.siblings('.view');\n        $editDiv = $parentDiv.siblings('.edit');\n        \n        $editControlsDiv = $eventButton.parent();\n        $viewControlsDiv = $eventButton.parent().siblings('.viewControls');\n\n        $editDiv.hide();\n        $editControlsDiv.hide();\n\n        $viewDiv.show();\n        $viewControlsDiv.show();\n    },\n    cancelEdit:function(eventButton){\n        $eventButton = $(eventButton);\n        $editDiv = $eventButton.parents(\".item-controls\").siblings('.edit');\n        $menuItemInput = $editDiv.find('.menu-item-input');\n        var originalValue = $menuItemInput.attr('data-original');\n        $menuItemInput.val(originalValue);\n    },\n    saveChages:function(eventButton){\n        $eventButton = $(eventButton);\n        var menuItemId = $eventButton.attr('data-menu-item-id');\n        var inputId = $eventButton.attr('data-menu-item-input');\n        $menuItemInput = $(\"#\"+inputId);\n        var newMenuItemName = $menuItemInput.val();\n\n        var request = $.ajax({\n            url:\"menu/menu-item/\"+menuItemId,\n            method:\"PUT\",\n            dataType:\"JSON\",\n            data:{ name:newMenuItemName }\n        });\n        request.done(function(msg){\n            MenuEngine.updateMenuItem(msg['menu-item']);\n        });\n        request.fail(function(jqXHR, msg){\n            console.log(msg);\n        });\n    },\n    updateMenuItem:function(menuItem){\n        $parentDiv = $('#'+menuItem.id);\n        $parentDiv.find('.item-name-title').html(menuItem.name);\n        $(\"#menuItem_\"+menuItem.id).attr('data-original',menuItem.name);\n        //This is janky as all hell and should be fixed\n        //Switch the whole thing to a more OOP format\n        MenuEngine.hideEditFields($parentDiv.find('.saveItemButton'));\n    },\n\n};\n\n"],"sourceRoot":"/source/"}